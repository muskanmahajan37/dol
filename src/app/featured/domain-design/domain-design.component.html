<div class="domain-design" dragula="PARENT" [(dragulaModel)]="domainDesignData"
     #insideElement
     mwlResizable
     (dragulaModelChange)="changeAggregateModel()"
     [enableGhostResize]="true"
     [resizeEdges]="{ bottom: true, right: true, top: true, left: true }"
     (resizeEnd)="onResizeEnd($event)">

    <div *ngFor="let group of domainDesignData">
        <div class="group-handle" (contextmenu)="openContext($event, group)">
            {{group.name}}
        </div>
        <div class="aggregate-container"
             dragula="ITEMS"
             (dragulaModelChange)="changeAggregateModel()"
             [(dragulaModel)]="group.valueObjects">
            <div class="drag-item vo" *ngFor="let x of group.valueObjects" (dblclick)="enableEdit(x)">
                <span *ngIf="!x.editable">{{x.name}}</span>
                <textarea #txtArea
                          *ngIf="x.editable"
                          [(ngModel)]="x.name"
                          (keydown.enter)="onTextareaEnter(x)"></textarea>
            </div>
        </div>
    </div>
</div>

<ng-template #domainObjectMenu let-domain>
    <mat-card class="vo-menu">
        <div (click)="deleteDomain(domain)">Delete</div>
    </mat-card>
</ng-template>
